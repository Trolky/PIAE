{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Languages" %} • {% trans "PIAE" %}{% endblock %}

{% block content %}
  <div class="auth-layout">
    <div class="auth-card">
      <h1>{% trans "My languages" %}</h1>
      <p class="muted">{% trans "Choose target languages you can translate to from English." %}</p>

      <form method="post" novalidate>
        {% csrf_token %}
        <input type="hidden" name="action" value="add">

        <label class="field {% if form.language_code.errors %}field--error{% endif %}" {% if form.language_code.errors %}data-error="{{ form.language_code.errors|striptags }}"{% endif %}>
          <span class="field__label">{% trans "Translate to" %}</span>
          {{ form.language_code }}
          {% if form.language_code.errors %}<span class="field__hint">{{ form.language_code.errors|striptags }}</span>{% endif %}
        </label>

        <button class="button button--full" type="submit">{% trans "Add language" %}</button>
      </form>

      <div style="margin-top: 18px;">
        <h2 style="margin: 0 0 10px; font-size: 16px;">{% trans "Configured" %}</h2>
        {% if languages %}
          <div class="pill-list">
            {% for lang in languages %}
              <span class="pill pill--with-action">
                <span style="font-weight: 700;">{{ lang|upper }}</span>
                <form method="post" class="pill__action" style="margin: 0;">
                  {% csrf_token %}
                  <input type="hidden" name="action" value="remove">
                  <input type="hidden" name="language_code" value="{{ lang }}">
                  <button type="submit" class="pill__button" title="{% trans "Remove" %}">×</button>
                </form>
              </span>
            {% endfor %}
          </div>
        {% else %}
          <p class="muted" style="margin: 0;">{% trans "No languages yet." %}</p>
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}
